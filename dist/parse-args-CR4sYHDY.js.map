{"version":3,"file":"parse-args-CR4sYHDY.js","names":["argv: string[]","args: ParsedArgs","parsedArgs: ParsedArgs"],"sources":["../src/parse-args.ts"],"sourcesContent":["import type { ParsedArgs } from './types.js';\n\nexport function parseArgs(argv: string[]): ParsedArgs {\n  const args: ParsedArgs = {\n    includePatterns: [],\n    command: null,\n    commandArgs: [],\n    rawArgs: []\n  };\n\n  let i = 0;\n  while (i < argv.length) {\n    const arg = argv[i];\n    \n    if (arg === '--include') {\n      // Get the next argument as the include pattern\n      i++;\n      if (i < argv.length) {\n        args.includePatterns.push(argv[i]);\n      }\n    } else if (arg === '--') {\n      // Everything after -- is the command and its arguments\n      const remainingArgs = argv.slice(i + 1);\n      if (remainingArgs.length > 0) {\n        args.command = remainingArgs[0];\n        args.commandArgs = remainingArgs.slice(1);\n      }\n      break; // Stop processing after --\n    } else if (arg.startsWith('cmd:')) {\n      // Legacy support: Everything after cmd: is the command and its arguments\n      args.command = arg.slice(4); // Remove 'cmd:' prefix\n      args.commandArgs = argv.slice(i + 1);\n      break; // Stop processing after cmd:\n    } else {\n      args.rawArgs.push(arg);\n    }\n    i++;\n  }\n\n  return args;\n}\n\nexport function buildCommand(parsedArgs: ParsedArgs): { command: string; args: string[] } {\n  if (parsedArgs.command) {\n    return {\n      command: parsedArgs.command,\n      args: parsedArgs.commandArgs\n    };\n  }\n  \n  // Default to running the local server\n  return {\n    command: \"node\",\n    args: [\"dist/server.js\"]\n  };\n}"],"mappings":";AAEA,SAAgB,UAAUA,MAA4B;CACpD,MAAMC,OAAmB;EACvB,iBAAiB,CAAE;EACnB,SAAS;EACT,aAAa,CAAE;EACf,SAAS,CAAE;CACZ;CAED,IAAI,IAAI;AACR,QAAO,IAAI,KAAK,QAAQ;EACtB,MAAM,MAAM,KAAK;AAEjB,MAAI,QAAQ,aAAa;AAEvB;AACA,OAAI,IAAI,KAAK,OACX,MAAK,gBAAgB,KAAK,KAAK,GAAG;EAErC,WAAU,QAAQ,MAAM;GAEvB,MAAM,gBAAgB,KAAK,MAAM,IAAI,EAAE;AACvC,OAAI,cAAc,SAAS,GAAG;AAC5B,SAAK,UAAU,cAAc;AAC7B,SAAK,cAAc,cAAc,MAAM,EAAE;GAC1C;AACD;EACD,WAAU,IAAI,WAAW,OAAO,EAAE;AAEjC,QAAK,UAAU,IAAI,MAAM,EAAE;AAC3B,QAAK,cAAc,KAAK,MAAM,IAAI,EAAE;AACpC;EACD,MACC,MAAK,QAAQ,KAAK,IAAI;AAExB;CACD;AAED,QAAO;AACR;AAED,SAAgB,aAAaC,YAA6D;AACxF,KAAI,WAAW,QACb,QAAO;EACL,SAAS,WAAW;EACpB,MAAM,WAAW;CAClB;AAIH,QAAO;EACL,SAAS;EACT,MAAM,CAAC,gBAAiB;CACzB;AACF"}